{"version":3,"file":"src_app_pages_product_product_module_ts.js","mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAA2C;AACkB;AACO;AACnB;AACA;AACb;AACC;AACW;AAKoB;AACJ;AACE;AACN;AACA;IAO/C,cAAc,SAAd,cAAc;IAazB,YACU,aAA4B,EAC5B,cAA8B,EAC9B,WAA4B,EAC5B,WAAwB,EACxB,WAAwB,EACxB,SAA0B,EAC1B,QAAkB,EAClB,WAA2B;QAP3B,kBAAa,GAAb,aAAa,CAAe;QAC5B,mBAAc,GAAd,cAAc,CAAgB;QAC9B,gBAAW,GAAX,WAAW,CAAiB;QAC5B,gBAAW,GAAX,WAAW,CAAa;QACxB,gBAAW,GAAX,WAAW,CAAa;QACxB,cAAS,GAAT,SAAS,CAAiB;QAC1B,aAAQ,GAAR,QAAQ,CAAU;QAClB,gBAAW,GAAX,WAAW,CAAgB;QApBrC,QAAG,GAAG,0DAAM,CAAC;QACb,aAAQ,GAAG,KAAK,CAAC;QAEjB,eAAU,GAAQ,IAAI,CAAC;QAEvB,eAAU,GAAgB,EAAE,CAAC;QAC7B,UAAK,GAAY,EAAE,CAAC;QACpB,UAAK,GAAY,EAAE,CAAC;QAGZ,eAAU,GAAG,IAAI,8CAAY,EAAE,CAAC;IAWrC,CAAC;IAEJ,IAAI,CAAC;QACH,OAAO,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC;IAC5B,CAAC;IAED,QAAQ;QACN,IAAI,CAAC,aAAa,EAAE,CAAC;QACrB,IAAI,CAAC,eAAe,EAAE,CAAC;QACvB,IAAI,CAAC,WAAW,EAAE,CAAC;QACnB,IAAI,CAAC,WAAW,EAAE,CAAC;IACrB,CAAC;IACD,WAAW;QACT,IAAI,CAAC,UAAU,CAAC,WAAW,EAAE,CAAC;QAC9B,IAAI,CAAC,aAAa,CAAC,SAAS,EAAE,CAAC;IACjC,CAAC;IAED,aAAa;QACX,gDAAgD;QAChD,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC,IAAI,EAAE,EAAE;YAC1C,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;QACzB,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,IAAI,GAAG,IAAI,qDAAS,CAAC;YACxB,EAAE,EAAE,IAAI,uDAAW,CAAC,EAAE,CAAC;YACvB,OAAO,EAAE,IAAI,uDAAW,CAAC,EAAE,CAAC;YAC5B,QAAQ,EAAE,IAAI,uDAAW,CAAC,EAAE,EAAE,CAAC,+DAAmB,CAAC,CAAC;YACpD,IAAI,EAAE,IAAI,uDAAW,CAAC,EAAE,EAAE,CAAC,+DAAmB,CAAC,CAAC;YAChD,MAAM,EAAE,IAAI,uDAAW,CAAC,EAAE,EAAE,CAAC,+DAAmB,CAAC,CAAC;YAClD,WAAW,EAAE,IAAI,uDAAW,CAAC,EAAE,EAAE,CAAC,+DAAmB,CAAC,CAAC;YACvD,IAAI,EAAE,IAAI,uDAAW,CAAC,EAAE,EAAE,CAAC,+DAAmB,CAAC,CAAC;YAChD,IAAI,EAAE,IAAI,uDAAW,CAAC,EAAE,CAAC;YACzB,IAAI,EAAE,IAAI,uDAAW,CAAC,EAAE,EAAE,CAAC,+DAAmB,CAAC,CAAC;YAChD,KAAK,EAAE,IAAI,uDAAW,CAAC,EAAE,EAAE,CAAC,+DAAmB,CAAC,CAAC;YACjD,SAAS,EAAE,IAAI,uDAAW,CAAC,EAAE,CAAC;SAC/B,CAAC,CAAC;QAEH,IAAI,CAAC,WAAW,EAAE,CAAC;IACrB,CAAC;IAED,eAAe;QACb,IAAI,CAAC,WAAW,CAAC,cAAc,EAAE,CAAC,IAAI,CAAC,CAAC,OAAO,EAAE,EAAE;YACjD,OAAO,CAAC,IAAI,CAAC,oDAAG,CAAC,CAAC,GAAG,EAAE,EAAE,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,SAAS,CAAC;gBAC7C,IAAI,EAAE,CAAC,IAAI,EAAE,EAAE;oBACb,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;gBACzB,CAAC;gBACD,KAAK,EAAE,GAAG,EAAE,GAAE,CAAC;gBACf,QAAQ,EAAE,GAAG,EAAE,GAAE,CAAC;aACnB,CAAC,CAAC;QACL,CAAC,CAAC,CAAC;IACL,CAAC;IACD,WAAW;QACT,IAAI,CAAC,WAAW,CAAC,UAAU,EAAE,CAAC,IAAI,CAAC,CAAC,OAAO,EAAE,EAAE;YAC7C,OAAO,CAAC,IAAI,CAAC,oDAAG,CAAC,CAAC,GAAG,EAAE,EAAE,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,SAAS,CAAC;gBAC7C,IAAI,EAAE,CAAC,IAAI,EAAE,EAAE;oBACb,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;gBACpB,CAAC;gBACD,KAAK,EAAE,GAAG,EAAE,GAAE,CAAC;gBACf,QAAQ,EAAE,GAAG,EAAE,GAAE,CAAC;aACnB,CAAC,CAAC;QACL,CAAC,CAAC,CAAC;IACL,CAAC;IACD,WAAW;QACT,IAAI,CAAC,WAAW,CAAC,UAAU,EAAE,CAAC,IAAI,CAAC,CAAC,OAAO,EAAE,EAAE;YAC7C,OAAO,CAAC,IAAI,CAAC,oDAAG,CAAC,CAAC,GAAG,EAAE,EAAE,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,SAAS,CAAC;gBAC7C,IAAI,EAAE,CAAC,IAAI,EAAE,EAAE;oBACb,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;gBACpB,CAAC;gBACD,KAAK,EAAE,GAAG,EAAE,GAAE,CAAC;gBACf,QAAQ,EAAE,GAAG,EAAE,GAAE,CAAC;aACnB,CAAC,CAAC;QACL,CAAC,CAAC,CAAC;IACL,CAAC;IAED,WAAW;QACT,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC,KAAK,EAAE,EAAE;YAC5C,IAAI,KAAK,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE;gBACnB,IAAI,CAAC,aAAa,CAAC,gBAAgB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;gBAC/C,IAAI,CAAC,cAAc,CAAC,UAAU,CAAC,KAAK,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,SAAS,CAAC;oBACxD,IAAI,EAAE,CAAC,IAAI,EAAE,EAAE;wBACb,IAAI,CAAC,CAAC,IAAI,EAAE;4BACV,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC;gCACnB,EAAE,EAAE,IAAI,CAAC,EAAE;gCACX,OAAO,EAAE,IAAI,CAAC,aAAa;gCAC3B,IAAI,EAAE,IAAI,CAAC,IAAI;gCACf,QAAQ,EAAE,IAAI,CAAC,UAAU;6BAC1B,CAAC,CAAC;4BAEH,MAAM,KAAK,GAAa,IAAI,CAAC,MAAM,CAAC;4BACpC,KAAK,CAAC,GAAG,CAAC,CAAC,EAAE,EAAE,EAAE;gCACf,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC;oCACnB,IAAI,EAAE,EAAE,CAAC,MAAM;oCACf,IAAI,EAAE,EAAE,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE;oCAChC,IAAI,EAAE,EAAE,CAAC,IAAI;oCACb,KAAK,EAAE,EAAE,CAAC,KAAK;oCACf,SAAS,EAAE,EAAE,CAAC,SAAS;oCACvB,WAAW,EAAE,EAAE,CAAC,WAAW;oCAC3B,MAAM,EAAE,EAAE,CAAC,MAAM;iCAClB,CAAC,CAAC;4BACL,CAAC,CAAC,CAAC;4BAEH,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;yBACtB;oBACH,CAAC;oBACD,KAAK,EAAE,GAAG,EAAE;wBACV,IAAI,CAAC,aAAa,CAAC,gBAAgB,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;oBAClD,CAAC;oBACD,QAAQ,EAAE,GAAG,EAAE;wBACb,IAAI,CAAC,aAAa,CAAC,gBAAgB,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;oBAClD,CAAC;iBACF,CAAC,CAAC;aACJ;QACH,CAAC,CAAC,CAAC;IACL,CAAC;IAED,UAAU,CAAC,GAAQ;QACjB,IAAI,CAAC,aAAa,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC;IACrC,CAAC;IAED,MAAM;QACJ,IAAI,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE;YACrB,OAAO,IAAI,CAAC,IAAI,CAAC,gBAAgB,EAAE,CAAC;SACrC;QAED,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE;YAClB,IAAI,CAAC,IAAI,CAAC,UAAU,EAAE;gBACpB,MAAM,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;oBAClC,OAAO,EAAE,iBAAiB;oBAC1B,MAAM,EAAE,UAAU;iBACnB,CAAC,CAAC;gBACH,KAAK,CAAC,IAAI,CAAC,CAAC,GAAG,EAAE,EAAE;oBACjB,GAAG,CAAC,OAAO,EAAE,CAAC;gBAChB,CAAC,CAAC,CAAC;gBACH,OAAO;aACR;SACF;QAED,MAAM,IAAI,GAAQ;YAChB,SAAS,EAAE,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,KAAK;YAC1B,IAAI,EAAE,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK;YACvB,OAAO,EAAE,IAAI,CAAC,CAAC,CAAC,OAAO,CAAC,KAAK;YAC7B,UAAU,EAAE,IAAI,CAAC,CAAC,CAAC,QAAQ,CAAC,KAAK;YACjC,MAAM,EAAE,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK;YACzB,MAAM,EAAE,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK;YACzB,MAAM,EAAE,IAAI,CAAC,CAAC,CAAC,MAAM,CAAC,KAAK,IAAI,CAAC;YAChC,WAAW,EAAE,IAAI,CAAC,CAAC,CAAC,WAAW,CAAC,KAAK;YACrC,IAAI,EAAE,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK;YACvB,KAAK,EAAE,IAAI,CAAC,CAAC,CAAC,KAAK,CAAC,KAAK;YACzB,SAAS,EAAE,IAAI,CAAC,CAAC,CAAC,SAAS,CAAC,KAAK;YACjC,KAAK,EAAE,IAAI,CAAC,UAAU;SACvB,CAAC;QAEF,IAAI,IAAI,CAAC,QAAQ,EAAE;YACjB,IAAI,CAAC,cAAc,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC,SAAS,CAAC;gBAChD,IAAI,EAAE,GAAG,EAAE;oBACT,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC;gBACvB,CAAC;gBACD,KAAK,EAAE,GAAG,EAAE,GAAE,CAAC;gBACf,QAAQ,EAAE,GAAG,EAAE,GAAE,CAAC;aACnB,CAAC,CAAC;SACJ;aAAM;YACL,IAAI,CAAC,cAAc,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC,SAAS,CAAC;gBAChD,IAAI,EAAE,GAAG,EAAE;oBACT,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC;gBACvB,CAAC;gBACD,KAAK,EAAE,GAAG,EAAE,GAAE,CAAC;gBACf,QAAQ,EAAE,GAAG,EAAE,GAAE,CAAC;aACnB,CAAC,CAAC;SACJ;IACH,CAAC;CACF;;YA1MQ,0EAAa;YACb,4EAAc;YAFd,8EAAe;YAGf,sEAAW;YACX,sEAAW;YAZX,4DAAe;YAJf,sDAAQ;YAGR,4DAAc;;AAoBV,cAAc;IAL1B,yDAAS,CAAC;QACT,QAAQ,EAAE,iBAAiB;QAC3B,qJAAsC;;KAEvC,CAAC;GACW,cAAc,CAgM1B;AAhM0B;;;;;;;;;;;;;;;;;;;;;;;;;ACvBc;AAEI;AACe;AACb;AAC6C;AACZ;AAChC;AACiB;IAyBpD,iBAAiB,SAAjB,iBAAiB;CAAG;AAApB,iBAAiB;IAvB7B,uDAAQ,CAAC;QACR,OAAO,EAAE;YACP,sEAAY;YACZ,kEAAqB,CAAC;gBACpB;oBACE,IAAI,EAAE,EAAE;oBACR,SAAS,EAAE,sDAAW;iBACvB;gBAED;oBACE,IAAI,EAAE,qEAAiB;oBACvB,SAAS,EAAE,yEAAc;iBAC1B;gBACD;oBACE,IAAI,EAAE,sEAAkB,GAAG,MAAM;oBACjC,SAAS,EAAE,yEAAc;iBAC1B;aACF,CAAC;YACF,sGAA2B;YAC3B,0FAAsB;SACvB;QACD,YAAY,EAAE,CAAC,sDAAW,EAAE,yEAAc,CAAC;KAC5C,CAAC;GACW,iBAAiB,CAAG;AAAH;;;;;;;;;;;;;;;;;;;;;;;;;;ACjCoB;AACO;AACpB;AACW;AAEkB;IAOrD,WAAW,SAAX,WAAW;IAGtB,YACU,cAA8B,EAC9B,MAAc,EACd,WAA2B;QAF3B,mBAAc,GAAd,cAAc,CAAgB;QAC9B,WAAM,GAAN,MAAM,CAAQ;QACd,gBAAW,GAAX,WAAW,CAAgB;QALrC,aAAQ,GAAe,EAAE,CAAC;QAC1B,QAAG,GAAG,0DAAM,CAAC;IAKV,CAAC;IAEJ,QAAQ;QACN,IAAI,CAAC,WAAW,EAAE,CAAC;IACrB,CAAC;IAED,SAAS,CAAC,GAAQ;QAChB,UAAU,CAAC,GAAG,EAAE;YACd,IAAI,CAAC,WAAW,EAAE,CAAC;YACnB,GAAG,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAC;QACxB,CAAC,EAAE,IAAI,CAAC,CAAC;IACX,CAAC;IAED,UAAU;QACR,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,qEAAiB,CAAC,EAAE,EAAE,UAAU,EAAE,IAAI,CAAC,WAAW,EAAE,CAAC,CAAC;IAC9E,CAAC;IACD,WAAW,CAAC,EAAU;QACpB,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,sEAAkB,EAAE,EAAE,CAAC,EAAE;YAC7C,UAAU,EAAE,IAAI,CAAC,WAAW;SAC7B,CAAC,CAAC;IACL,CAAC;IAED,WAAW;QACT,IAAI,CAAC,cAAc,CAAC,aAAa,EAAE,CAAC,IAAI,CAAC,CAAC,OAAO,EAAE,EAAE;YACnD,OAAO,CAAC,IAAI,CAAC,mDAAG,CAAC,CAAC,GAAG,EAAE,EAAE,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,SAAS,CAAC;gBAChD,IAAI,EAAE,CAAC,IAAI,EAAE,EAAE;oBACb,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;gBACvB,CAAC;gBACD,KAAK,EAAE,GAAG,EAAE,GAAE,CAAC;gBACf,QAAQ,EAAE,GAAG,EAAE,GAAE,CAAC;aACnB,CAAC,CAAC;QACL,CAAC,CAAC,CAAC;IACL,CAAC;CACF;;YA/CQ,4EAAc;YAJE,mDAAM;YAAtB,2DAAc;;AAWV,WAAW;IALvB,wDAAS,CAAC;QACT,QAAQ,EAAE,aAAa;QACvB,iJAAkC;;KAEnC,CAAC;GACW,WAAW,CAwCvB;AAxCuB;;;;;;;;;;;;;;;;;;;;ACZmB;AACO;AAEC;IAItC,cAAc,SAAd,cAAc;IAEzB,YAAoB,IAAgB,EAAU,OAAuB;QAAjD,SAAI,GAAJ,IAAI,CAAY;QAAU,YAAO,GAAP,OAAO,CAAgB;QAD7D,QAAG,GAAG,UAAU,CAAC;IAC+C,CAAC;IAEnE,aAAa;;YACjB,MAAM,MAAM,GAAG,MAAM,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;YACxD,OAAO,MAAM,IAAI,CAAC,IAAI,CAAC,GAAG,CACxB,IAAI,CAAC,GAAG,GAAG,IAAI,MAAM,EAAE,CACxB,CAAC;QACJ,CAAC;KAAA;IAED,UAAU,CAAC,EAAU;QACnB,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAW,IAAI,CAAC,GAAG,GAAG,QAAQ,EAAE,EAAE,CAAC,CAAC;IAC1D,CAAC;IAED,aAAa,CAAC,OAAY;QACxB,MAAM,CAAC,GAAa,IAAI,QAAQ,EAAE,CAAC;QACnC,wCAAwC;QACxC,KAAK,MAAM,GAAG,IAAI,OAAO,EAAE;YACzB,CAAC,CAAC,MAAM,CAAC,GAAG,EAAE,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC;SAC7B;QAED,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CAAM,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC;IAC1C,CAAC;IAED,aAAa,CAAC,OAAY;QACxB,MAAM,CAAC,GAAa,IAAI,QAAQ,EAAE,CAAC;QACnC,wCAAwC;QACxC,KAAK,MAAM,GAAG,IAAI,OAAO,EAAE;YACzB,CAAC,CAAC,MAAM,CAAC,GAAG,EAAE,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC;SAC7B;QAED,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAM,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC;IACzC,CAAC;CACF;;YAxCQ,4DAAU;YAEV,4DAAc;;AAIV,cAAc;IAD1B,yDAAU,CAAC,EAAE,UAAU,EAAE,MAAM,EAAE,CAAC;GACtB,cAAc,CAkC1B;AAlC0B;;;;;;;;;;;;;;;ACP3B,iEAAe,miEAAmiE,+EAA+E,gXAAgX,WAAW,q8CAAq8C,mEAAmE,mWAAmW,WAAW,gvBAAgvB,WAAW,izDAAizD;;;;;;;;;;;;;;ACA95N,iEAAe,ggBAAggB,cAAc,yBAAyB,uBAAuB,0HAA0H,sBAAsB,8UAA8U","sources":["./src/app/pages/add-product/add-product.page.ts","./src/app/pages/product/product.module.ts","./src/app/pages/product/product.page.ts","./src/app/services/product.service.ts","./src/app/pages/add-product/add-product.page.html","./src/app/pages/product/product.page.html"],"sourcesContent":["import { Location } from '@angular/common';\nimport { Component, OnDestroy, OnInit } from '@angular/core';\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\nimport { ActivatedRoute } from '@angular/router';\nimport { AlertController } from '@ionic/angular';\nimport { Subscription } from 'rxjs';\nimport { map } from 'rxjs/operators';\nimport { appUrl } from 'src/app/app-url.module';\nimport { ICategory } from 'src/app/models/category.model';\nimport { IStock } from 'src/app/models/product.model';\nimport { IUnit } from 'src/app/models/unit.model';\nimport { IZone } from 'src/app/models/zone.model';\nimport { CategoryService } from 'src/app/services/category.service';\nimport { GlobalService } from 'src/app/services/global.service';\nimport { ProductService } from 'src/app/services/product.service';\nimport { UnitService } from 'src/app/services/unit.service';\nimport { ZoneService } from 'src/app/services/zone.service';\n\n@Component({\n  selector: 'app-add-product',\n  templateUrl: './add-product.page.html',\n  styleUrls: ['./add-product.page.scss'],\n})\nexport class AddProductPage implements OnInit, OnDestroy {\n  url = appUrl;\n  isCreate = false;\n\n  selectFile: any = null;\n\n  categories: ICategory[] = [];\n  units: IUnit[] = [];\n  zones: IZone[] = [];\n\n  form!: FormGroup;\n  private ondestroy$ = new Subscription();\n\n  constructor(\n    private globalService: GlobalService,\n    private productService: ProductService,\n    private cateService: CategoryService,\n    private unitService: UnitService,\n    private zoneService: ZoneService,\n    private alertCtrl: AlertController,\n    private location: Location,\n    private activeRoute: ActivatedRoute\n  ) {}\n\n  get f() {\n    return this.form.controls;\n  }\n\n  ngOnInit() {\n    this.initializeApp();\n    this.onFetchCategory();\n    this.onFetchZone();\n    this.onFetchUnit();\n  }\n  ngOnDestroy(): void {\n    this.ondestroy$.unsubscribe();\n    this.globalService.clearFile();\n  }\n\n  initializeApp() {\n    // eslint-disable-next-line no-underscore-dangle\n    this.globalService._file.subscribe((data) => {\n      this.selectFile = data;\n    });\n\n    this.form = new FormGroup({\n      id: new FormControl(''),\n      barcode: new FormControl(''),\n      category: new FormControl('', [Validators.required]),\n      name: new FormControl('', [Validators.required]),\n      amount: new FormControl('', [Validators.required]),\n      alertAmount: new FormControl('', [Validators.required]),\n      unit: new FormControl('', [Validators.required]),\n      zone: new FormControl(''),\n      cost: new FormControl('', [Validators.required]),\n      price: new FormControl('', [Validators.required]),\n      wholesale: new FormControl(''),\n    });\n\n    this.onFetchById();\n  }\n\n  onFetchCategory() {\n    this.cateService.getAllCategory().then((observe) => {\n      observe.pipe(map((val) => val.cate)).subscribe({\n        next: (data) => {\n          this.categories = data;\n        },\n        error: () => {},\n        complete: () => {},\n      });\n    });\n  }\n  onFetchUnit() {\n    this.unitService.getAllUnit().then((observe) => {\n      observe.pipe(map((val) => val.unit)).subscribe({\n        next: (data) => {\n          this.units = data;\n        },\n        error: () => {},\n        complete: () => {},\n      });\n    });\n  }\n  onFetchZone() {\n    this.zoneService.getAllZone().then((observe) => {\n      observe.pipe(map((val) => val.zone)).subscribe({\n        next: (data) => {\n          this.zones = data;\n        },\n        error: () => {},\n        complete: () => {},\n      });\n    });\n  }\n\n  onFetchById() {\n    this.activeRoute.paramMap.subscribe((param) => {\n      if (param.get('id')) {\n        this.globalService.backdropLoading$.next(true);\n        this.productService.getProduct(param.get('id')).subscribe({\n          next: (data) => {\n            if (!!data) {\n              this.form.patchValue({\n                id: data.id,\n                barcode: data.barCodeNumber,\n                name: data.name,\n                category: data.categoryId,\n              });\n\n              const stock: IStock[] = data.Stocks;\n              stock.map((el) => {\n                this.form.patchValue({\n                  unit: el.unitId,\n                  zone: el.zoneId ? el.zoneId : '',\n                  cost: el.cost,\n                  price: el.price,\n                  wholesale: el.wholesale,\n                  alertAmount: el.alertAmount,\n                  amount: el.amount,\n                });\n              });\n\n              this.isCreate = true;\n            }\n          },\n          error: () => {\n            this.globalService.backdropLoading$.next(false);\n          },\n          complete: () => {\n            this.globalService.backdropLoading$.next(false);\n          },\n        });\n      }\n    });\n  }\n\n  handleFile(evt: any) {\n    this.globalService.handleFile(evt);\n  }\n\n  onSave() {\n    if (this.form.invalid) {\n      return this.form.markAllAsTouched();\n    }\n\n    if (!this.isCreate) {\n      if (!this.selectFile) {\n        const alert = this.alertCtrl.create({\n          message: 'ເລືອກຮູບພາບກ່ອນ',\n          header: 'ຄຳເຕືອນ!',\n        });\n        alert.then((obx) => {\n          obx.present();\n        });\n        return;\n      }\n    }\n\n    const data: any = {\n      productId: this.f.id.value,\n      name: this.f.name.value,\n      barcode: this.f.barcode.value,\n      categoryId: this.f.category.value,\n      unitId: this.f.unit.value,\n      zoneId: this.f.zone.value,\n      amount: this.f.amount.value || 0,\n      alertAmount: this.f.alertAmount.value,\n      cost: this.f.cost.value,\n      price: this.f.price.value,\n      wholesale: this.f.wholesale.value,\n      photo: this.selectFile,\n    };\n\n    if (this.isCreate) {\n      this.productService.updateProduct(data).subscribe({\n        next: () => {\n          this.location.back();\n        },\n        error: () => {},\n        complete: () => {},\n      });\n    } else {\n      this.productService.createProduct(data).subscribe({\n        next: () => {\n          this.location.back();\n        },\n        error: () => {},\n        complete: () => {},\n      });\n    }\n  }\n}\n","import { NgModule } from '@angular/core';\n\nimport { ProductPage } from './product.page';\nimport { SharedModule } from 'src/app/shared/shared.module';\nimport { RouterModule } from '@angular/router';\nimport { SharedLayoutComponentModule } from 'src/app/shared/shared-layout-component.module';\nimport { SharedComponenttModule } from 'src/app/shared/shared-component.module';\nimport { appUrl } from 'src/app/app-url.module';\nimport { AddProductPage } from '../add-product/add-product.page';\n\n@NgModule({\n  imports: [\n    SharedModule,\n    RouterModule.forChild([\n      {\n        path: '',\n        component: ProductPage,\n      },\n\n      {\n        path: appUrl.addProduct,\n        component: AddProductPage,\n      },\n      {\n        path: appUrl.editProduct + '/:id',\n        component: AddProductPage,\n      },\n    ]),\n    SharedLayoutComponentModule,\n    SharedComponenttModule,\n  ],\n  declarations: [ProductPage, AddProductPage],\n})\nexport class ProductPageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { map } from 'rxjs/operators';\nimport { appUrl } from 'src/app/app-url.module';\nimport { IProduct } from 'src/app/models/product.model';\nimport { ProductService } from 'src/app/services/product.service';\n\n@Component({\n  selector: 'app-product',\n  templateUrl: './product.page.html',\n  styleUrls: ['./product.page.scss'],\n})\nexport class ProductPage implements OnInit {\n  products: IProduct[] = [];\n  url = appUrl;\n  constructor(\n    private productService: ProductService,\n    private router: Router,\n    private activeRoute: ActivatedRoute\n  ) {}\n\n  ngOnInit() {\n    this.onFetchData();\n  }\n\n  isRefresh(evt: any) {\n    setTimeout(() => {\n      this.onFetchData();\n      evt.target.complete();\n    }, 1000);\n  }\n\n  addProduct() {\n    this.router.navigate([appUrl.addProduct], { relativeTo: this.activeRoute });\n  }\n  editProduct(id: string) {\n    this.router.navigate([appUrl.editProduct, id], {\n      relativeTo: this.activeRoute,\n    });\n  }\n\n  onFetchData() {\n    this.productService.getAllProduct().then((observe) => {\n      observe.pipe(map((val) => val.product)).subscribe({\n        next: (data) => {\n          this.products = data;\n        },\n        error: () => {},\n        complete: () => {},\n      });\n    });\n  }\n}\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\nimport { StorageService } from './storage.service';\r\nimport { IProduct } from '../models/product.model';\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class ProductService {\r\n  private url = 'products';\r\n  constructor(private http: HttpClient, private storage: StorageService) {}\r\n\r\n  async getAllProduct(): Promise<Observable<{ product: IProduct[] }>> {\r\n    const branch = await this.storage.storageData('branch');\r\n    return await this.http.get<{ product: IProduct[] }>(\r\n      this.url + `/${branch}`\r\n    );\r\n  }\r\n\r\n  getProduct(id: string): Observable<IProduct> {\r\n    return this.http.get<IProduct>(this.url + `/get/${id}`);\r\n  }\r\n\r\n  createProduct(product: any): Observable<any> {\r\n    const f: FormData = new FormData();\r\n    // eslint-disable-next-line guard-for-in\r\n    for (const key in product) {\r\n      f.append(key, product[key]);\r\n    }\r\n\r\n    return this.http.post<any>(this.url, f);\r\n  }\r\n\r\n  updateProduct(product: any): Observable<any> {\r\n    const f: FormData = new FormData();\r\n    // eslint-disable-next-line guard-for-in\r\n    for (const key in product) {\r\n      f.append(key, product[key]);\r\n    }\r\n\r\n    return this.http.put<any>(this.url, f);\r\n  }\r\n}\r\n","export default \"<app-header\\n  [title]=\\\" isCreate ? 'ແກ້ໄຂສີນຄ້າ': 'ເພີ່ມສີນຄ້າ'\\\"\\n  [href]=\\\"url.home +'/'+ url.product\\\"\\n>\\n</app-header>\\n\\n<app-backdrop-loading></app-backdrop-loading>\\n\\n<ion-content class=\\\"ion-padding\\\">\\n  <form [formGroup]=\\\"form\\\">\\n    <ion-list>\\n      <ion-grid>\\n        <ion-row>\\n          <!-- select file -->\\n          <ion-col size=\\\"12\\\">\\n            <div class=\\\"form-group\\\">\\n              <ion-text>\\n                <label>ເລືອກຮູບ</label>\\n              </ion-text>\\n              <ion-item lines=\\\"none\\\" class=\\\"item-input\\\">\\n                <ion-input\\n                  type=\\\"file\\\"\\n                  placeholder=\\\"ເລືອກຮູບ\\\"\\n                  accept=\\\"image/png, image/gif, image/jpeg\\\"\\n                  (input)=\\\"handleFile($event)\\\"\\n                ></ion-input>\\n              </ion-item>\\n            </div>\\n          </ion-col>\\n        </ion-row>\\n        <!-- barcode -->\\n        <ion-row>\\n          <ion-col size=\\\"12\\\">\\n            <div class=\\\"form-group\\\">\\n              <ion-text>\\n                <label>ລະຫັດບາໂຄດ</label>\\n              </ion-text>\\n              <app-input-form\\n                placeholder=\\\"ລະຫັດບາໂຄດ\\\"\\n                [control]=\\\"$any(f['barcode'])\\\"\\n              ></app-input-form>\\n            </div>\\n          </ion-col>\\n        </ion-row>\\n\\n        <!-- name && category -->\\n        <ion-row>\\n          <ion-col size=\\\"12\\\" sizeMd=\\\"6\\\">\\n            <div class=\\\"form-group\\\">\\n              <ion-text>\\n                <label>ລາຍການສິນຄ້າ</label>\\n              </ion-text>\\n              <app-input-form\\n                placeholder=\\\"ລາຍການສິນຄ້າ\\\"\\n                [control]=\\\"$any(f['name'])\\\"\\n              ></app-input-form>\\n            </div>\\n          </ion-col>\\n          <ion-col size=\\\"12\\\" sizeMd=\\\"6\\\">\\n            <div class=\\\"form-group\\\">\\n              <ion-text>\\n                <label>ປະເພດສິນຄ້າ</label>\\n              </ion-text>\\n              <ion-item\\n                lines=\\\"none\\\"\\n                class=\\\"item-input\\\"\\n                [ngClass]=\\\"{ error: f['category'].errors && (f['category'].dirty || f['category'].touched) }\\\"\\n              >\\n                <ion-select\\n                  interface=\\\"action-sheet\\\"\\n                  placeholder=\\\"ເລືອກປະເພດສິນຄ້າ\\\"\\n                  formControlName=\\\"category\\\"\\n                >\\n                  <ng-container *ngFor=\\\"let cate of categories\\\">\\n                    <ion-select-option [value]=\\\"cate.id\\\">\\n                      {{cate.name}}\\n                    </ion-select-option>\\n                  </ng-container>\\n                </ion-select>\\n              </ion-item>\\n            </div>\\n          </ion-col>\\n        </ion-row>\\n\\n        <!-- amount && alertAmount -->\\n        <ion-row>\\n          <ion-col size=\\\"12\\\" sizeMd=\\\"6\\\">\\n            <div class=\\\"form-group\\\">\\n              <ion-text>\\n                <label>ຈຳນວນສິນຄ້າ</label>\\n              </ion-text>\\n              <app-input-form\\n                type=\\\"number\\\"\\n                placeholder=\\\"ຈຳນວນສິນຄ້າ\\\"\\n                [control]=\\\"$any(f['amount'])\\\"\\n              ></app-input-form>\\n            </div>\\n          </ion-col>\\n          <ion-col size=\\\"12\\\" sizeMd=\\\"6\\\">\\n            <div class=\\\"form-group\\\">\\n              <ion-text>\\n                <label>ຈຸດແຈ້ງເຕືອນ</label>\\n              </ion-text>\\n              <app-input-form\\n                type=\\\"number\\\"\\n                placeholder=\\\"ຈຸດແຈ້ງເຕືອນ\\\"\\n                [control]=\\\"$any(f['alertAmount'])\\\"\\n              ></app-input-form>\\n            </div>\\n          </ion-col>\\n        </ion-row>\\n\\n        <!-- unit && zone -->\\n        <ion-row>\\n          <ion-col size=\\\"12\\\" sizeMd=\\\"6\\\">\\n            <div class=\\\"form-group\\\">\\n              <ion-text>\\n                <label>ຫົວໜ່ວຍ</label>\\n              </ion-text>\\n              <ion-item\\n                lines=\\\"none\\\"\\n                class=\\\"item-input\\\"\\n                [ngClass]=\\\"{ error: f['unit'].errors && (f['unit'].dirty || f['unit'].touched) }\\\"\\n              >\\n                <ion-select\\n                  interface=\\\"action-sheet\\\"\\n                  placeholder=\\\"ເລືອກຫົວໜ່ວຍ\\\"\\n                  formControlName=\\\"unit\\\"\\n                >\\n                  <ng-container *ngFor=\\\"let unit of units\\\">\\n                    <ion-select-option [value]=\\\"unit.id\\\">\\n                      {{unit.name}}\\n                    </ion-select-option>\\n                  </ng-container>\\n                </ion-select>\\n              </ion-item>\\n            </div>\\n          </ion-col>\\n          <ion-col size=\\\"12\\\" sizeMd=\\\"6\\\">\\n            <div class=\\\"form-group\\\">\\n              <ion-text>\\n                <label>ຕຳແໜ່ງ</label>\\n              </ion-text>\\n              <ion-item lines=\\\"none\\\" class=\\\"item-input\\\">\\n                <ion-select\\n                  interface=\\\"action-sheet\\\"\\n                  placeholder=\\\"ເລືອກຕຳແໜ່ງ\\\"\\n                  formControlName=\\\"zone\\\"\\n                >\\n                  <ng-container *ngFor=\\\"let zone of zones\\\">\\n                    <ion-select-option [value]=\\\"zone.id\\\">\\n                      {{zone.name}}\\n                    </ion-select-option>\\n                  </ng-container>\\n                </ion-select>\\n              </ion-item>\\n            </div>\\n          </ion-col>\\n        </ion-row>\\n\\n        <!-- cost-->\\n        <ion-row>\\n          <ion-col size=\\\"12\\\">\\n            <div class=\\\"form-group\\\">\\n              <ion-text>\\n                <label>ລາຄາຊື້</label>\\n              </ion-text>\\n              <app-input-form\\n                type=\\\"number\\\"\\n                placeholder=\\\"ລາຄາຊື້\\\"\\n                [control]=\\\"$any(f['cost'])\\\"\\n              ></app-input-form>\\n            </div>\\n          </ion-col>\\n        </ion-row>\\n\\n        <!-- price && wholesale -->\\n        <ion-row>\\n          <ion-col size=\\\"12\\\" sizeMd=\\\"6\\\">\\n            <div class=\\\"form-group\\\">\\n              <ion-text>\\n                <label>ລາຄາຍ່ອຍ</label>\\n              </ion-text>\\n              <app-input-form\\n                type=\\\"number\\\"\\n                placeholder=\\\"ລາຄາຍ່ອຍ\\\"\\n                [control]=\\\"$any(f['price'])\\\"\\n              ></app-input-form>\\n            </div>\\n          </ion-col>\\n          <ion-col size=\\\"12\\\" sizeMd=\\\"6\\\">\\n            <div class=\\\"form-group\\\">\\n              <ion-text>\\n                <label>ລາຄາສົ່ງ</label>\\n              </ion-text>\\n              <app-input-form\\n                type=\\\"number\\\"\\n                placeholder=\\\"ລາຄາສົ່ງ\\\"\\n                [control]=\\\"$any(f['wholesale'])\\\"\\n              ></app-input-form>\\n            </div>\\n          </ion-col>\\n        </ion-row>\\n      </ion-grid>\\n    </ion-list>\\n\\n    <div class=\\\"form-action\\\">\\n      <ion-button\\n        (click)=\\\"onSave()\\\"\\n        color=\\\"primary\\\"\\n        fill=\\\"solid\\\"\\n        expand=\\\"block\\\"\\n      >\\n        ບັນທຶກ\\n      </ion-button>\\n    </div>\\n  </form>\\n</ion-content>\\n\";","export default \"<app-header\\n  title=\\\"ລາຍການສິນຄ້າ\\\"\\n  iconAction=\\\"bag-add-outline\\\"\\n  [href]=\\\"url.home +'/'+ url.manageProduct\\\"\\n  [showAction]=\\\"true\\\"\\n  (showActionEmit)=\\\"addProduct()\\\"\\n>\\n</app-header>\\n\\n<ion-content>\\n  <ion-refresher slot=\\\"fixed\\\" (ionRefresh)=\\\"isRefresh($event)\\\">\\n    <ion-refresher-content></ion-refresher-content>\\n  </ion-refresher>\\n  <ion-list>\\n    <ng-container *ngFor=\\\"let product of products\\\">\\n      <ion-item lines=\\\"full\\\">\\n        <ion-label>\\n          <p>\\n            {{product.name}}\\n            <strong>({{product.Category.name}})</strong>\\n          </p>\\n          <ng-container *ngFor=\\\"let item of product.Stocks\\\">\\n            <span>ຄົງເຫຼືອ {{ item.amount | number}}</span>\\n          </ng-container>\\n        </ion-label>\\n\\n        <app-edit-button\\n          (editEmit)=\\\"editProduct(product.id)\\\"\\n          controlType=\\\"edit\\\"\\n        ></app-edit-button>\\n        <app-edit-button controlType=\\\"del\\\"></app-edit-button>\\n      </ion-item>\\n    </ng-container>\\n  </ion-list>\\n</ion-content>\\n\";"],"names":[],"sourceRoot":"webpack:///"}